<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monoslocos Fitness - Entrenamiento y NutriciÃ³n</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary: #6366f1;
      --primary-dark: #4f46e5;
      --primary-light: #818cf8;
      --secondary: #22d3ee;
      --secondary-dark: #06b6d4;
      --secondary-light: #67e8f9;
      --accent: #fbbf24;
      --accent-dark: #f59e0b;
      --success: #10b981;
      --danger: #ef4444;
      --dark: #0a0e27;
      --darker: #030712;
      --card-bg: rgba(17, 24, 39, 0.6);
      --card-hover: rgba(30, 41, 59, 0.8);
      --light: #f1f5f9;
      --gray: #94a3b8;
      --gray-light: #cbd5e1;
      --border: rgba(148, 163, 184, 0.1);
      --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
      --gradient-primary: linear-gradient(135deg, var(--primary), var(--primary-dark));
      --gradient-secondary: linear-gradient(135deg, var(--secondary), var(--secondary-dark));
      --gradient-dark: linear-gradient(180deg, #0a0e27 0%, #030712 100%);
      --gradient-card: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(17, 24, 39, 0.9));
      --gradient-accent: linear-gradient(135deg, var(--accent), var(--accent-dark));
      --gradient-success: linear-gradient(135deg, var(--success), #059669);
      --radius-sm: 12px;
      --radius-md: 16px;
      --radius-lg: 24px;
      --radius-xl: 32px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: var(--gradient-dark);
      color: var(--light);
      line-height: 1.7;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }
    
    body::before {
      content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: 
        radial-gradient(circle at 20% 50%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(34, 211, 238, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(251, 191, 36, 0.05) 0%, transparent 50%);
      pointer-events: none; z-index: 1;
    }
    
    .container { max-width: 1280px; margin: 0 auto; padding: 2rem; position: relative; z-index: 2; }
    
    header {
      display: flex; justify-content: space-between; align-items: center; padding: 1.5rem 2rem; background: rgba(10, 14, 39, 0.7); backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px); position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid var(--border); box-shadow: var(--shadow-lg);
    }
    
    .logo { font-size: 1.75rem; font-weight: 800; background: var(--gradient-primary); -webkit-background-clip: text; background-clip: text; color: transparent; display: flex; align-items: center; gap: 0.75rem; transition: var(--transition); }
    .logo i { color: var(--primary-light); }
    
    nav ul { display: flex; list-style: none; gap: 3rem; }
    nav a { color: var(--gray-light); text-decoration: none; font-weight: 500; font-size: 1rem; position: relative; transition: var(--transition); padding: 0.5rem 0; }
    nav a::after { content: ''; position: absolute; bottom: 0; left: 50%; width: 0; height: 2px; background: var(--gradient-primary); transition: var(--transition); transform: translateX(-50%); }
    nav a:hover { color: var(--light); }
    nav a:hover::after, nav a.active::after { width: 100%; }
    nav a.active { color: var(--primary-light); }
    
    .menu-toggle { display: none; background: none; border: none; color: var(--light); font-size: 1.5rem; cursor: pointer; z-index: 1001; }
    
    .hero { text-align: center; padding: 5rem 0; }
    .hero h1 { font-size: clamp(2.5rem, 8vw, 4rem); font-weight: 900; margin-bottom: 1.5rem; background: linear-gradient(135deg, var(--primary-light), var(--secondary)); -webkit-background-clip: text; background-clip: text; color: transparent; }
    
    .objetivo { display: inline-flex; align-items: center; gap: 0.75rem; background: var(--gradient-card); padding: 1rem 2rem; border-radius: var(--radius-xl); font-size: 1.125rem; margin: 1.5rem 0; border: 1px solid var(--border); backdrop-filter: blur(10px); box-shadow: var(--shadow-md); }
    
    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2rem; margin: 4rem 0; }
    .card { background: var(--gradient-card); border-radius: var(--radius-lg); text-decoration: none; color: var(--light); transition: var(--transition); border: 1px solid var(--border); backdrop-filter: blur(20px); position: relative; overflow: hidden; }
    .card:hover { transform: translateY(-8px); box-shadow: var(--shadow-xl); }
    .card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 3px; transition: var(--transition); }
    .card.ejercicios::before { background: var(--gradient-primary); }
    .card.nutricion::before { background: var(--gradient-secondary); }
    .card.progreso::before { background: var(--gradient-success); }
    
    /* DiseÃ±o horizontal para tarjetas en escritorio */
    .card.ejercicios, .card.nutricion { padding: 1.5rem 2rem; display: flex; align-items: center; gap: 1.5rem; }
    .card.ejercicios .card-icon, .card.nutricion .card-icon { margin-bottom: 0; flex-shrink: 0; }
    .card.ejercicios .card-content, .card.nutricion .card-content { display: flex; flex-direction: column; text-align: left; }
    
    .card-icon { width: 50px; height: 50px; border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; font-size: 1.5rem; }
    .card.ejercicios .card-icon { background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(99, 102, 241, 0.1)); color: var(--primary-light); }
    .card.nutricion .card-icon { background: linear-gradient(135deg, rgba(34, 211, 238, 0.2), rgba(34, 211, 238, 0.1)); color: var(--secondary-light); }
    .card.progreso .card-icon { background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1)); color: var(--success); }
    
    .card h2 { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.25rem; }
    .card p { color: var(--gray-light); line-height: 1.5; font-size: 0.9rem; }

    /* Tarjeta de progreso ancha en escritorio */
    .card.progreso {
      grid-column: 1 / -1; 
      padding: 1.5rem 2rem;
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }
    .card.progreso .card-content { text-align: left; }
    
    .motivacion { background: var(--gradient-card); border-radius: var(--radius-xl); padding: 3rem; margin-top: 4rem; border: 1px solid var(--border); text-align: center; }
    .motivacion h2 { font-size: 2rem; font-weight: 800; margin-bottom: 1.5rem; background: var(--gradient-primary); -webkit-background-clip: text; background-clip: text; color: transparent; }
    
    .page-header { text-align: center; margin-bottom: 3rem; }
    .page-header h1 { font-size: clamp(2rem, 7vw, 2.5rem); font-weight: 800; margin-bottom: 1rem; background: linear-gradient(135deg, var(--primary-light), var(--secondary)); -webkit-background-clip: text; background-clip: text; color: transparent; }
    .page-header p { color: var(--gray-light); font-size: 1.125rem; }
    
    .calendar-container { background: var(--gradient-card); border-radius: var(--radius-xl); padding: 1.5rem; margin-bottom: 3rem; border: 1px solid var(--border); backdrop-filter: blur(20px); }
    .calendar-nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; padding: 1rem; background: rgba(10, 14, 39, 0.3); border-radius: var(--radius-md); }
    .calendar-title { font-size: 1.25rem; font-weight: 700; color: var(--primary-light); }
    .calendar-nav-btn { background: rgba(99, 102, 241, 0.1); color: var(--primary-light); border: 1px solid rgba(99, 102, 241, 0.2); width: 44px; height: 44px; border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: var(--transition); }
    .calendar-nav-btn:hover { background: rgba(99, 102, 241, 0.2); transform: scale(1.1); }
    .calendar-header { display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem; margin-bottom: 1rem; text-align: center; font-weight: 700; color: var(--gray); text-transform: uppercase; font-size: 0.75rem; }
    .calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem; }
    
    .day { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; background: rgba(17, 24, 39, 0.4); border-radius: var(--radius-md); cursor: pointer; transition: var(--transition); position: relative; border: 2px solid transparent; font-weight: 500; font-size: 0.9rem; }
    .day:hover { background: rgba(99, 102, 241, 0.1); transform: translateY(-4px); }
    .day.selected { border-color: var(--primary-light); background: rgba(99, 102, 241, 0.2); transform: scale(1.05); }
    .day.empty { background: transparent; cursor: default; border-color: transparent; }
    .day.empty:hover { transform: none; }
    .day.today { background: var(--primary); color: white; font-weight: 700; animation: pulse 2s infinite; }
    .day.weekend { color: var(--accent); }
    .day.completed::after { content: 'âœ“'; position: absolute; bottom: 3px; right: 3px; width: 16px; height: 16px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.6rem; color: white; }
    
    .rutina-container, .progreso-container, .desayuno-container { background: var(--gradient-card); border-radius: var(--radius-xl); padding: 1.5rem; border: 1px solid var(--border); backdrop-filter: blur(20px); }
    .rutina-header { display: flex; flex-direction: column; align-items: center; text-align: center; gap: 0.5rem; margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 1px solid var(--border); }
    .rutina-header h2 { font-size: 1.5rem; color: var(--primary-light); }
    .rutina-date { font-size: 0.9rem; color: var(--gray); }
    .ejercicio { background: rgba(17, 24, 39, 0.6); border-radius: var(--radius-lg); padding: 1.5rem; margin-bottom: 1.5rem; border-left: 4px solid var(--primary); }
    .ejercicio-header { display: flex; justify-content: space-between; align-items: center; cursor: pointer; gap: 1rem; }
    .ejercicio-title { font-size: 1.1rem; font-weight: 600; }
    .ejercicio-sets { color: var(--gray-light); font-size: 0.9rem; flex-shrink: 0; }
    .ejercicio-detalle { display: none; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
    .ejercicio-detalle.active { display: block; }
    .ejercicio-img { width: 100%; border-radius: var(--radius-md); margin-top: 1rem; }
    .objetivo-rutina { background: rgba(16, 185, 129, 0.1); color: var(--success); padding: 1.5rem; border-radius: var(--radius-md); margin-bottom: 2rem; border-left: 4px solid var(--success); font-size: 0.95rem; }
    
    .btn-completar { width: 100%; padding: 1rem; margin-top: 2rem; font-size: 1rem; font-weight: 700; border-radius: var(--radius-lg); border: none; cursor: pointer; transition: var(--transition); color: white; }
    .btn-completar:not(.completed) { background: var(--primary); }
    .btn-completar:not(.completed):hover { background: var(--primary-dark); }
    .btn-completar.completed { background: var(--success); }
    
    .days-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; margin-bottom: 3rem; }
    .day-btn { background: var(--gradient-card); border-radius: var(--radius-lg); padding: 1.5rem 1rem; text-align: center; cursor: pointer; transition: var(--transition); border: 1px solid var(--border); }
    .day-btn:hover, .day-btn.active { transform: translateY(-5px); border-color: var(--secondary); }
    .day-btn i { font-size: 1.75rem; margin-bottom: 0.75rem; color: var(--secondary-light); }
    .day-btn h3 { font-size: 1rem; }
    
    .btn-volver { display: inline-flex; align-items: center; gap: 0.75rem; background: var(--primary); color: white; border: none; padding: 1rem 2rem; border-radius: var(--radius-md); font-weight: 600; text-decoration: none; margin-top: 3rem; transition: var(--transition); }
    .btn-volver:hover { background: var(--primary-dark); }
    
    .stats-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; margin-bottom: 3rem; }
    .stat-card { background: rgba(17, 24, 39, 0.6); padding: 1.5rem; border-radius: var(--radius-lg); text-align: center; border-bottom: 4px solid var(--accent); }
    .stat-card .value { font-size: 2.5rem; font-weight: 800; color: var(--accent); line-height: 1.2; }
    .stat-card .label { font-size: 0.9rem; color: var(--gray-light); }
    .chart-container { background: rgba(17, 24, 39, 0.6); padding: 1rem; border-radius: var(--radius-lg); }

    .page-section { display: none; animation: fadeIn 0.5s ease-out; }
    .page-section.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

    /* ============================================== */
    /* AJUSTES PARA VERSIÃ“N MÃ“VIL (PANTALLAS PEQUEÃ‘AS) */
    /* ============================================== */
    @media (max-width: 768px) {
      .container { padding: 1rem; }
      header { padding: 1rem; }
      
      .logo { font-size: 1.5rem; }

      /* AJUSTE CLAVE: MenÃº de navegaciÃ³n */
      nav { 
        display: none; 
        position: absolute; 
        top: 100%; /* Se posiciona justo debajo del header */
        left: 0; 
        right: 0; 
        background: rgba(10, 14, 39, 0.95); 
        backdrop-filter: blur(20px); 
        padding: 1rem; 
        border-top: 1px solid var(--border);
      }
      nav.active { display: block; }
      nav ul { flex-direction: column; gap: 0.5rem; }
      nav a { 
        display: block; 
        padding: 1rem; 
        background: rgba(17, 24, 39, 0.5); 
        border-radius: var(--radius-sm); 
      }
      nav a:hover, nav a.active { background: rgba(99, 102, 241, 0.1); }
      nav a::after { display: none; } /* Ocultamos la lÃ­nea de abajo en mÃ³vil */

      .menu-toggle { display: block; } /* Mostramos el botÃ³n de hamburguesa */

      .hero { padding: 3rem 0; }
      .objetivo { padding: 0.75rem 1.5rem; font-size: 1rem; }

      /* AJUSTE CLAVE: Tarjetas principales */
      .cards { 
        grid-template-columns: 1fr; /* Forzamos una sola columna */
        gap: 1.5rem;
        margin: 2.5rem 0;
      }
      
      /* AJUSTE CLAVE: Contenido de las tarjetas */
      .card.ejercicios, .card.nutricion, .card.progreso {
        flex-direction: column;   /* Apila el Ã­cono y el texto verticalmente */
        text-align: center;       /* Centra el texto */
        padding: 2rem 1.5rem;
      }
      .card.ejercicios .card-icon, 
      .card.nutricion .card-icon, 
      .card.progreso .card-icon {
        margin: 0 auto 1.5rem auto; /* Centra el Ã­cono y le da espacio abajo */
      }
      .card.ejercicios .card-content, 
      .card.nutricion .card-content,
      .card.progreso .card-content {
          text-align: center; /* Aseguramos que el contenido estÃ© centrado */
      }

      /* AJUSTE: Tarjeta de progreso en mÃ³vil */
      .card.progreso {
          grid-column: auto; /* Restablecemos el span para que ocupe una sola columna */
      }
      
      .motivacion { padding: 2rem; }
      .motivacion h2 { font-size: 1.5rem; }

      /* AJUSTE: Rejilla de estadÃ­sticas */
      .stats-grid {
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); /* Hacemos que quepan 2 por fila si hay espacio */
      }
    }
  </style>
</head>
<body>

  <!-- El resto del HTML (body) permanece igual, ya que los cambios son solo de CSS -->
  <header>
    <div class="logo">
      <i class="fas fa-dumbbell"></i>
      <span>Monoslocos<span style="font-weight: 300;">fitness</span></span>
    </div>
    <nav id="nav">
      <ul>
        <li><a href="#" class="nav-link active" data-target="inicio">Inicio</a></li>
        <li><a href="#" class="nav-link" data-target="ejercicios">Ejercicios</a></li>
        <li><a href="#" class="nav-link" data-target="nutricion">NutriciÃ³n</a></li>
        <li><a href="#" class="nav-link" data-target="progreso">Progreso</a></li>
      </ul>
    </nav>
    <button class="menu-toggle" id="menu-toggle"><i class="fas fa-bars"></i></button>
  </header>

  <div class="container">
    <!-- SECCIÃ“N DE INICIO -->
    <section id="inicio" class="page-section active">
      <div class="hero">
        <h1>Â¡Hola, AdriÃ¡n! ðŸ‘‹</h1>
        <p class="objetivo"><i class="fas fa-bullseye"></i> Objetivo: <strong>Llegar a 70kg</strong></p>
      </div>

      <div class="calendar-container">
        <div class="calendar-nav">
          <button class="calendar-nav-btn" id="home-prev-month"><i class="fas fa-chevron-left"></i></button>
          <div class="calendar-title" id="home-current-month-year"></div>
          <button class="calendar-nav-btn" id="home-next-month"><i class="fas fa-chevron-right"></i></button>
        </div>
        <div class="calendar-header">
          <div>Lun</div><div>Mar</div><div>MiÃ©</div><div>Jue</div><div>Vie</div><div>SÃ¡b</div><div>Dom</div>
        </div>
        <div class="calendar" id="home-calendar"></div>
      </div>

      <div class="cards" id="opciones-dia" style="display: none;">
        <a class="card ejercicios" href="#" data-target="ejercicios">
          <div class="card-icon"><i class="fas fa-running"></i></div>
          <div class="card-content">
            <h2>Rutina del DÃ­a</h2>
            <p>Accede a tu plan de entrenamiento.</p>
          </div>
        </a>
        <a class="card nutricion" href="#" data-target="nutricion">
          <div class="card-icon"><i class="fas fa-utensils"></i></div>
          <div class="card-content">
            <h2>Plan Nutricional</h2>
            <p>Consulta las recetas de hoy.</p>
          </div>
        </a>
        <a class="card progreso" href="#" data-target="progreso">
          <div class="card-icon"><i class="fas fa-chart-line"></i></div>
          <div class="card-content">
            <h2>Tu Progreso</h2>
            <p>Visualiza tus estadÃ­sticas y rachas de entrenamiento.</p>
          </div>
        </a>
      </div>
        
      <div class="motivacion">
        <h2>Â¡TÃº puedes lograrlo! ðŸ’ª</h2>
        <p>La consistencia es la clave del Ã©xito.</p>
      </div>
    </section>

    <!-- SECCIÃ“N DE EJERCICIOS -->
    <section id="ejercicios" class="page-section">
      <div class="page-header"><h1>Tu Rutina Diaria</h1><p>AquÃ­ tienes el plan de hoy. Â¡A por todas!</p></div>
      <div class="rutina-container" id="rutina"></div>
      <a href="#" class="btn-volver" data-target="inicio"><i class="fas fa-arrow-left"></i> Volver al inicio</a>
    </section>

    <!-- SECCIÃ“N DE NUTRICIÃ“N -->
    <section id="nutricion" class="page-section">
      <div class="page-header"><h1>Plan de Desayunos</h1><p>Desayunos saludables para complementar tu entrenamiento</p></div>
      <div class="days-container">
        <div class="day-btn active" data-dia="L"><i class="fas fa-pancakes"></i><h3>Lunes</h3><p>Pancakes</p></div>
        <div class="day-btn" data-dia="M"><i class="fas fa-blender"></i><h3>Martes</h3><p>Batido</p></div>
        <div class="day-btn" data-dia="X"><i class="fas fa-bread-slice"></i><h3>MiÃ©rcoles</h3><p>Tostadas</p></div>
        <div class="day-btn" data-dia="J"><i class="fas fa-egg"></i><h3>Jueves</h3><p>Tortilla</p></div>
        <div class="day-btn" data-dia="V"><i class="fas fa-bowl-food"></i><h3>Viernes</h3><p>Yogur</p></div>
        <div class="day-btn" data-dia="S"><i class="fas fa-utensils"></i><h3>SÃ¡bado</h3><p>Repite Favorito</p></div>
      </div>
      <div class="desayuno-container" id="desayuno"></div>
      <a href="#" class="btn-volver" data-target="inicio"><i class="fas fa-arrow-left"></i> Volver al inicio</a>
    </section>
    
    <!-- SECCIÃ“N DE PROGRESO -->
    <section id="progreso" class="page-section">
        <div class="page-header"><h1>Tu Progreso</h1><p>Â¡Mira todo lo que has conseguido! La consistencia es la clave.</p></div>
        <div class="progreso-container">
            <div class="stats-grid" id="stats-grid"></div>
            <div class="chart-container"><canvas id="progressChart"></canvas></div>
        </div>
        <a href="#" class="btn-volver" data-target="inicio"><i class="fas fa-arrow-left"></i> Volver al inicio</a>
    </section>
  </div>

  <script>
    // El Javascript no necesita cambios para la responsividad, asÃ­ que se mantiene igual.
    const desayunos = { L:{nombre:"Pancakes estilo stracciatella",calorias:"600-700 kcal",ingredientes:["1 huevo","25g de azÃºcar","1 pizca de sal","1/2 cdta de vainilla","35 ml de leche","1/2 yogur griego","100g de harina","4g de levadura"],preparacion:["Mezclar todo hasta obtener una masa homogÃ©nea.","Cocinar en sartÃ©n antiadherente."]},
                        M:{nombre:"Batido energÃ©tico",calorias:"900-1000 kcal",ingredientes:["500 ml de leche","1 plÃ¡tano","100g de avena","30g de nueces","2 cdas de crema de cacahuete","1 cda de ColaCao","1 yogur griego"],preparacion:["Licuar todos los ingredientes."]},
                        X:{nombre:"Tostadas con aguacate y huevo",calorias:"600-700 kcal",ingredientes:["2 rebanadas de pan integral","1 aguacate","2 huevos","1 tomate","Aceite, sal y pimienta"],preparacion:["Tostar el pan.","Untar aguacate, aÃ±adir tomate y el huevo frito o cocido."]},
                        J:{nombre:"Tortilla con atÃºn",calorias:"600-650 kcal",ingredientes:["2-3 huevos","1 lata de atÃºn","2 rebanadas de pan integral","Aceite y sal"],preparacion:["Batir huevos, aÃ±adir atÃºn y cocinar.","AcompaÃ±ar con pan y aceite."]},
                        V:{nombre:"Yogur con granola y fruta",calorias:"650-750 kcal",ingredientes:["1 yogur griego","1/2 taza de granola","1 plÃ¡tano o frutos rojos","Nueces y miel"],preparacion:["Mezclar todos los ingredientes en un bol."]},S:{nombre:"Repite tu favorito",calorias:"Variable",ingredientes:["Elige el que mÃ¡s te haya gustado."],preparacion:["Â¡A disfrutar del fin de semana!"]} };
    const rutinas = {
  1: {
    title: "Lunes: Empuje (Foco Planche) + Postura",
    objetivo: "Desarrollar la fuerza base para el lean planche (hombros, core) y activar la musculatura postural.",
    ejercicios: [
      {
        nombre: "Planche Leans (IsomÃ©trico)",
        sets: "4 x 10â€“20s",
        consejos: "ProtracciÃ³n escapular y hollow body ACTIVOS. InclÃ­nate hasta sentir tensiÃ³n en hombros. Prog: mÃ¡s inclinaciÃ³n / Reg: menos inclinaciÃ³n.",
        imagen: "https://i.ytimg.com/vi/GgQ32eR8tIA/maxresdefault.jpg"
      },
      {
        nombre: "Pseudo Planche Push-ups (PPPU)",
        sets: "3 x 5â€“8",
        consejos: "MantÃ©n la inclinaciÃ³n del lean durante toda la flexiÃ³n. Codos pegados al cuerpo. Prog: mÃ¡s inclinaciÃ³n / Reg: de rodillas.",
        imagen: "https://www.gymnasticsmethod.com/wp-content/uploads/2021/08/pseudo-planche-push-ups.jpg"
      },
      {
        nombre: "Flexiones (con tabla/board o suelo)",
        sets: "3 x 8â€“12",
        consejos: "Usa agarre neutro en la tabla para proteger muÃ±ecas. Cuerpo en bloque. Prog: pies elevados / Reg: de rodillas.",
        imagen: "https://hips.hearstapps.com/hmg-prod/images/workouts/2016/03/pushup-1456956711.gif"
      },
      {
        nombre: "Band Pull-Aparts",
        sets: "3 x 15â€“20",
        consejos: "Brazos estirados frente a ti. Separa las manos retrayendo y deprimiendo escÃ¡pulas. Alt: Y-T-W en suelo.",
        imagen: "https://i.ytimg.com/vi/DxVZ4iS8_7o/maxresdefault.jpg"
      }
    ]
  },
  2: {
    title: "Martes: Piernas (Fuerza) + Core",
    objetivo: "Construir fuerza en cuÃ¡driceps, glÃºteos e isquios, y estabilidad en el core anti-inclinaciÃ³n.",
    ejercicios: [
      {
        nombre: "Sentadillas con Pausa (2 seg)",
        sets: "4 x 8â€“10",
        consejos: "Pausa de 2s abajo, manteniendo tensiÃ³n. Espalda recta, rompe el paralelo. Prog: con salto / Reg: a una silla.",
        imagen: "https://hips.hearstapps.com/hmg-prod/images/workouts/2016/03/bodyweightsquat-1456956795.gif"
      },
      {
        nombre: "Puente de GlÃºteos a una pierna",
        sets: "3 x 10â€“15 por pierna",
        consejos: "Empuja con el talÃ³n del pie apoyado. Aprieta el glÃºteo a tope arriba. Prog: pie en silla / Reg: ambas piernas.",
        imagen: "https://i.ytimg.com/vi/w5mF5ceOJwE/maxresdefault.jpg"
      },
      {
        nombre: "Zancadas Inversas",
        sets: "3 x 10â€“12 por pierna",
        consejos: "Paso largo hacia atrÃ¡s, torso vertical. Rodilla delantera sobre el medio pie. Prog: con pausa abajo.",
        imagen: "https://hips.hearstapps.com/hmg-prod/images/workouts/2016/03/reverselunge-1456956736.gif"
      },
      {
        nombre: "Plancha Lateral",
        sets: "3 x 30â€“45s por lado",
        consejos: "Cuerpo en lÃ­nea recta de cabeza a pies, cadera alta. No dejes que la cadera caiga. Prog: elevar pierna / Reg: de rodillas.",
        imagen: "https://hips.hearstapps.com/hmg-prod/images/workouts/2016/03/sideplank-1456956754.gif"
      }
    ]
  },
  3: {
    title: "MiÃ©rcoles: TirÃ³n (Postura) + Empuje (Asistencia)",
    objetivo: "Fortalecer la espalda alta (romboides, trapecios) para la postura y aÃ±adir trabajo de trÃ­ceps/hombros.",
    ejercicios: [
      {
        nombre: "Remo con Banda (anclaje en pies)",
        sets: "4 x 10â€“15",
        consejos: "Sentado, pasa la banda por los pies. Tira hacia el ombligo, aprieta escÃ¡pulas 1s. Prog: +tensiÃ³n de banda / Reg: -tensiÃ³n.",
        imagen: "https://i.ytimg.com/vi/2JdK31C-gCM/maxresdefault.jpg"
      },
      {
        nombre: "Face Pulls con Banda (anclaje en pies)",
        sets: "3 x 15â€“20",
        consejos: "Sentado, tira de la banda hacia la cara con codos altos y rotaciÃ³n externa (pulgares atrÃ¡s). Alt: Y-T-W en suelo.",
        imagen: "https://i.ytimg.com/vi/a-a2BPYFjYc/maxresdefault.jpg"
      },
      {
        nombre: "Pino Asistido en Pared (IsomÃ©trico)",
        sets: "4 x 20â€“40s",
        consejos: "Empuja el suelo (hombros a las orejas), cuerpo recto, aprieta abdomen y glÃºteos. Prog: Wall walks / Reg: menos tiempo.",
        imagen: "https://www.gymnasticsmethod.com/wp-content/uploads/2021/04/wall-handstand.jpg"
      },
      {
        nombre: "Flexiones Diamante",
        sets: "3 x 6â€“10",
        consejos: "Manos juntas bajo el pecho, codos pegados al cuerpo. Foco en trÃ­ceps. Prog: pies elevados / Reg: de rodillas.",
        imagen: "https://hips.hearstapps.com/hmg-prod/images/workouts/2016/03/diamondpushup-1456956700.gif"
      }
    ]
  },
  4: {
    title: "Jueves: Descanso / RecuperaciÃ³n Activa",
    objetivo: "Mejorar movilidad, facilitar la recuperaciÃ³n y trabajar la higiene postural de forma suave.",
    ejercicios: [
      {
        nombre: "Wall Slides",
        sets: "2 x 10â€“12",
        consejos: "Lento y controlado. Codos y muÃ±ecas siempre en contacto con la pared, sin arquear la zona lumbar.",
        imagen: "https://i.ytimg.com/vi/ykbof4L1ZsA/maxresdefault.jpg"
      },
      {
        nombre: "Gato-Vaca",
        sets: "2 x 10",
        consejos: "Moviliza toda la columna vertebral, coordinando el movimiento con una respiraciÃ³n profunda y controlada.",
        imagen: "https://i.ytimg.com/vi/1_0W8tLNWsI/maxresdefault.jpg"
      },
      {
        nombre: "Caminata Ligera",
        sets: "1 x 20-30 min",
        consejos: "Activa la circulaciÃ³n sin generar fatiga. Escucha a tu cuerpo y simplemente muÃ©vete.",
        imagen: ""
      }
    ]
  },
  5: {
    title: "Viernes: Full Body (Habilidad + Intensidad)",
    objetivo: "Integrar habilidades (pino), fuerza de planche, y un estÃ­mulo completo de tren superior e inferior.",
    ejercicios: [
      {
        nombre: "Pino (PrÃ¡ctica de Equilibrio)",
        sets: "5-10 min",
        consejos: "PrÃ¡ctica libre. Intenta separar los pies de la pared o patadas para subir. Foco en control, no en agotamiento.",
        imagen: "https://www.gymnasticsmethod.com/wp-content/uploads/2021/04/wall-handstand.jpg"
      },
      {
        nombre: "Planche Leans (IsomÃ©trico Largo)",
        sets: "3 x MÃ¡x. tiempo (forma perfecta)",
        consejos: "Aguanta con la mejor tÃ©cnica posible. GrÃ¡bate para revisar la protracciÃ³n y el hollow. Supera tu marca anterior.",
        imagen: "https://i.ytimg.com/vi/GgQ32eR8tIA/maxresdefault.jpg"
      },
      {
        nombre: "Sentadilla BÃºlgara",
        sets: "3 x 8â€“12 por pierna",
        consejos: "Apoya el pie trasero en una silla. Baja controlado. Foco en la pierna delantera. Prog: con salto / Reg: zancada estÃ¡tica.",
        imagen: "https://hips.hearstapps.com/hmg-prod/images/workouts/2016/03/bulgariansplitsquat-1456956767.gif"
      },
      {
        nombre: "Remo con Banda (o Invertido)",
        sets: "3 x 10-12",
        consejos: "Misma tÃ©cnica que el miÃ©rcoles. Si tienes mesa robusta, prueba el remo invertido. Alt: MÃ¡s tensiÃ³n en la banda.",
        imagen: "https://i.ytimg.com/vi/2JdK31C-gCM/maxresdefault.jpg"
      },
      {
        nombre: "Dead Bug",
        sets: "3 x 10-12 por lado",
        consejos: "Lento y controlado. La zona lumbar NUNCA se despega del suelo. Aprieta el abdomen.",
        imagen: "https://i.ytimg.com/vi/I5xbsA71v1A/maxresdefault.jpg"
      }
    ]
  },
  6: {
    title: "SÃ¡bado: Piernas (Volumen) + Postura",
    objetivo: "AÃ±adir volumen al tren inferior con enfoque en isomÃ©tricos e isquios, y reforzar la postura.",
    ejercicios: [
      {
        nombre: "Sentadilla IsomÃ©trica en Pared",
        sets: "3 x 45â€“60s",
        consejos: "Muslos paralelos al suelo, espalda completamente pegada a la pared. Â¡Aguanta la quemazÃ³n!",
        imagen: "https://hips.hearstapps.com/hmg-prod/images/workouts/2016/03/wallsit-1456956790.gif"
      },
      {
        nombre: "Peso Muerto Rumano a una pierna",
        sets: "3 x 10-12 por pierna",
        consejos: "Bisagra de cadera, espalda recta. Siente el estiramiento en los isquios. Reg: apÃ³yate para equilibrio.",
        imagen: "https://i.ytimg.com/vi/i24b0-Y-c5M/maxresdefault.jpg"
      },
      {
        nombre: "ElevaciÃ³n de Gemelos en EscalÃ³n",
        sets: "4 x 15â€“25",
        consejos: "Rango de movimiento completo. Pausa de 2s abajo (estirando) y 1s arriba (apretando).",
        imagen: "https://i.ytimg.com/vi/3h_34y-bo/maxresdefault.jpg"
      },
      {
        nombre: "Wall Slides",
        sets: "3 x 10-12",
        consejos: "Movimiento lento. EnfÃ³cate en la sensaciÃ³n de activaciÃ³n en la espalda alta. Calidad sobre cantidad.",
        imagen: "https://i.ytimg.com/vi/ykbof4L1ZsA/maxresdefault.jpg"
      }
    ]
  },
  0: {
    title: "Domingo: Descanso Total",
    objetivo: "NutriciÃ³n, hidrataciÃ³n y sueÃ±o. El mÃºsculo se construye aquÃ­. Â¡PrepÃ¡rate para la semana!",
    ejercicios: []
  }
};
    const COMPLETED_DATA_KEY = 'monoslocosFitnessCompleted';

    let selectedDate = null;
    let calendarDate = new Date();
    let progressChart = null;

    const menuToggle = document.getElementById('menu-toggle');
    const nav = document.getElementById('nav');
    menuToggle.addEventListener('click', () => {
      nav.classList.toggle('active');
      menuToggle.querySelector('i').classList.toggle('fa-bars');
      menuToggle.querySelector('i').classList.toggle('fa-times');
    });

    document.querySelectorAll('.nav-link, [data-target]').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('data-target');
        
        if (targetId === 'ejercicios') {
          if (selectedDate) renderRoutine(selectedDate);
          else document.getElementById('rutina').innerHTML = `<div class="rutina-header"><h2>No has seleccionado un dÃ­a</h2></div><p>Vuelve al <a href="#" data-target="inicio" style="color: var(--primary-light);">inicio</a> y elige un dÃ­a del calendario.</p>`;
        } else if (targetId === 'progreso') {
          renderProgressPage();
        }
        
        showPage(targetId);
      });
    });

    function showPage(pageId) {
        nav.classList.remove('active');
        if (menuToggle.querySelector('.fa-times')) {
            menuToggle.querySelector('i').classList.add('fa-bars');
            menuToggle.querySelector('i').classList.remove('fa-times');
        }
        
        document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');

        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        const activeLink = document.querySelector(`.nav-link[data-target="${pageId}"]`);
        if (activeLink) activeLink.classList.add('active');
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    const getCompletedDates = () => JSON.parse(localStorage.getItem(COMPLETED_DATA_KEY) || '[]');
    const saveCompletedDates = (dates) => localStorage.setItem(COMPLETED_DATA_KEY, JSON.stringify(dates));
    const formatDate = (date) => `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;

    function toggleCompletion(dateString) {
        let completedDates = getCompletedDates();
        const dateIndex = completedDates.indexOf(dateString);
        if (dateIndex > -1) completedDates.splice(dateIndex, 1);
        else completedDates.push(dateString);
        saveCompletedDates(completedDates);
        
        renderHomeCalendar(); 
        renderRoutine(new Date(dateString.replace(/-/g, '/')));
    }

    function renderRoutine(dateObject) {
        const routineContainer = document.getElementById('rutina');
        const dayOfWeek = dateObject.getDay();
        const routine = rutinas[dayOfWeek];
        const dateString = formatDate(dateObject);
        const isCompleted = getCompletedDates().includes(dateString);

        let html = `<div class="rutina-header"><h2>${routine.title}</h2><span class="rutina-date">${dateObject.toLocaleDateString('es-ES', { weekday: 'long', day: 'numeric', month: 'long' })}</span></div>`;
        if (routine.objetivo) html += `<div class="objetivo-rutina"><strong>Objetivo:</strong> ${routine.objetivo}</div>`;
        
        if (routine.ejercicios.length > 0) {
            routine.ejercicios.forEach(ex => { html += `<div class="ejercicio"><div class="ejercicio-header" onclick="toggleDetail(this)"><span class="ejercicio-title">${ex.nombre}</span><span class="ejercicio-sets">${ex.sets}</span></div><div class="ejercicio-detalle"><p>${ex.consejos || ''}</p><img src="${ex.imagen}" alt="${ex.nombre}" class="ejercicio-img"></div></div>`; });
            html += `<button class="btn-completar ${isCompleted ? 'completed' : ''}" onclick="toggleCompletion('${dateString}')">${isCompleted ? '<i class="fas fa-check-circle"></i> Â¡Completada!' : '<i class="fas fa-check"></i> Marcar como Completada'}</button>`;
        } else {
            html += `<p style="text-align:center; padding: 2rem 0;">DÃ­a de descanso. Â¡Aprovecha para recuperar!</p>`;
        }
        routineContainer.innerHTML = html;
    }

    function renderHomeCalendar() {
      const calendarEl = document.getElementById('home-calendar');
      const monthTitleEl = document.getElementById('home-current-month-year');
      const meses = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
      
      const date = calendarDate;
      date.setDate(1);
      const firstDayIndex = date.getDay() === 0 ? 6 : date.getDay() - 1;
      const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
      
      monthTitleEl.textContent = `${meses[date.getMonth()]} ${date.getFullYear()}`;
      calendarEl.innerHTML = '';
      const completedDates = getCompletedDates();

      for (let i = 0; i < firstDayIndex; i++) { calendarEl.innerHTML += `<div class="day empty"></div>`; }

      for (let i = 1; i <= lastDay; i++) {
        const dayEl = document.createElement('div');
        dayEl.classList.add('day');
        dayEl.textContent = i;
        const currentDate = new Date(date.getFullYear(), date.getMonth(), i);
        const today = new Date();

        if (i === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear()) dayEl.classList.add('today');
        if (currentDate.getDay() === 0) dayEl.classList.add('weekend');
        if (completedDates.includes(formatDate(currentDate))) dayEl.classList.add('completed');
        if (selectedDate && formatDate(currentDate) === formatDate(selectedDate)) dayEl.classList.add('selected');

        dayEl.addEventListener('click', () => {
          selectedDate = currentDate;
          renderHomeCalendar(); 
          document.getElementById('opciones-dia').style.display = 'grid';
          document.getElementById('opciones-dia').scrollIntoView({ behavior: 'smooth', block: 'center' });
        });
        calendarEl.appendChild(dayEl);
      }
    }
    
    function renderBreakfast(dayKey) {
        const breakfast = desayunos[dayKey];
        const container = document.getElementById('desayuno');
        container.innerHTML = `<div class="rutina-header"><h2>${breakfast.nombre}</h2><span class="rutina-date">${breakfast.calorias}</span></div><h4>Ingredientes</h4><ul>${breakfast.ingredientes.map(i => `<li>${i}</li>`).join('')}</ul><h4 style="margin-top: 1.5rem;">PreparaciÃ³n</h4><p>${breakfast.preparacion.join(' ')}</p>`;
    }

    function renderProgressPage() {
        const completedDates = getCompletedDates().sort();
        if (completedDates.length === 0) {
            document.getElementById('stats-grid').innerHTML = "<p>AÃºn no has completado ningÃºn entrenamiento. Â¡Vamos a por el primero!</p>";
            document.getElementById('progressChart').style.display = 'none';
            return;
        }
        document.getElementById('progressChart').style.display = 'block';

        let currentStreak = 0;
        if (completedDates.length > 0) {
            let today = new Date();
            let yesterday = new Date();
            yesterday.setDate(today.getDate() - 1);
            if (completedDates.includes(formatDate(today)) || completedDates.includes(formatDate(yesterday))) {
                currentStreak = 1;
                let dateToCheck = new Date(completedDates[completedDates.length-1].replace(/-/g, '/'));
                for (let i = completedDates.length - 2; i >= 0; i--) {
                    let prevDate = new Date(completedDates[i].replace(/-/g, '/'));
                    if ((dateToCheck - prevDate) / 86400000 === 1) { currentStreak++; dateToCheck = prevDate; } else break;
                }
            }
        }
        
        const totalWorkouts = completedDates.length;
        const workoutsPerWeek = {};
        completedDates.forEach(dateStr => {
            const date = new Date(dateStr.replace(/-/g, '/'));
            const year = date.getFullYear();
            const startOfYear = new Date(year, 0, 1);
            const weekNumber = Math.ceil(((date - startOfYear) / 86400000 + startOfYear.getDay() + 1) / 7);
            const weekId = `${year}-W${weekNumber}`;
            workoutsPerWeek[weekId] = (workoutsPerWeek[weekId] || 0) + 1;
        });
        const bestWeek = Math.max(0, ...Object.values(workoutsPerWeek));

        document.getElementById('stats-grid').innerHTML = `
            <div class="stat-card"><div class="value">${currentStreak}</div><div class="label">Racha actual (dÃ­as)</div></div>
            <div class="stat-card"><div class="value">${totalWorkouts}</div><div class="label">Entrenos totales</div></div>
            <div class="stat-card"><div class="value">${bestWeek}</div><div class="label">Mejor semana</div></div>`;

        const ctx = document.getElementById('progressChart').getContext('2d');
        const weeklyData = { labels: [], data: [] };
        for (let i = 3; i >= 0; i--) {
            const date = new Date();
            date.setDate(date.getDate() - i * 7);
            const year = date.getFullYear();
            const startOfYear = new Date(year, 0, 1);
            const weekNumber = Math.ceil(((date - startOfYear) / 86400000 + startOfYear.getDay() + 1) / 7);
            const weekId = `${year}-W${weekNumber}`;
            weeklyData.labels.push(`Semana ${weekNumber}`);
            weeklyData.data.push(workoutsPerWeek[weekId] || 0);
        }

        if(progressChart) progressChart.destroy();
        progressChart = new Chart(ctx, {
            type: 'bar',
            data: { labels: weeklyData.labels, datasets: [{ label: 'Entrenamientos por semana', data: weeklyData.data, backgroundColor: 'rgba(16, 185, 129, 0.6)', borderColor: 'rgba(16, 185, 129, 1)', borderWidth: 2, borderRadius: 8 }] },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, max: 7, grid: { color: 'rgba(148, 163, 184, 0.1)' }, ticks: { color: '#94a3b8', stepSize: 1 } }, x: { grid: { display: false }, ticks: { color: '#94a3b8' } } } }
        });
    }

    function toggleDetail(element) { element.nextElementSibling.classList.toggle('active'); }
    window.toggleDetail = toggleDetail;
    window.toggleCompletion = toggleCompletion;

    document.addEventListener('DOMContentLoaded', () => {
      renderHomeCalendar();
      renderBreakfast('L');

      document.getElementById('home-prev-month').addEventListener('click', () => {
        calendarDate.setMonth(calendarDate.getMonth() - 1);
        document.getElementById('opciones-dia').style.display = 'none';
        renderHomeCalendar();
      });
      document.getElementById('home-next-month').addEventListener('click', () => {
        calendarDate.setMonth(calendarDate.getMonth() + 1);
        document.getElementById('opciones-dia').style.display = 'none';
        renderHomeCalendar();
      });

      document.querySelectorAll('.day-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          renderBreakfast(this.getAttribute('data-dia'));
        });
      });
    });
</script>

</body>
</html>
